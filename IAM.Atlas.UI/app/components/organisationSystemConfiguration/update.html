<div id="systemConfiguration" class="organisationSystemConfiguration">

    <system-feature-information title="organisation system configuration"
                                controller="OrganisationSystemConfigurationCtrl"
                                open-in-modal="true"
                                view-path="/app/components/organisationSystemConfiguration/update"
                                page-name="Organisation System Configuration"></system-feature-information>    

    <div class="Title row">
        <h2></h2>
    </div>

    <form class="form-horizontal row" role="form">

        <div class='col-sm-12 form-group'>
            <div class="col-sm-3">
                <label>Organisation</label>
            </div>
            <div class="col-sm-9">
                <label>{{organisationName}} System Settings</label>
            </div>
        </div>

        <div class="row">
            <div class="col-sm-3 paddingLeft30">
                <div class="sml-scroll-div">
                    <table class="table table-hover table-bordered table-striped">
                        <thead></thead>
                        <tbody>
                            <tr ng-repeat="organisation in organisations">
                                <td ng-click="getSystemConfigurationByOrganisation(organisation.Id, organisation.Name)"
                                    ng-class="{selectedOrganisation : selectedOrganisation == organisation.Id}"
                                    title="{{organisation.Name}}"
                                    value="{{organisation.Id}}">
                                    {{organisation.Name}}
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>

            <div class="col-sm-3">
                <div class="row ImplementedSystemFlags">
                    <div class='col-sm-12 form-line-holder'>
                        <div class="marginBottom5">
                            <input type="checkbox" ng-model="systemConfiguration.SystemIsReadOnly" title="System Is Read Only" />&nbsp;System Is Read Only
                        </div>
                        <div class="marginBottom5">
                            <input type="checkbox" ng-model="systemConfiguration.Drivers" title="Has Drivers" />&nbsp;Has Drivers
                        </div>
                        <div class="marginBottom5">
                            <input type="checkbox" ng-model="systemConfiguration.Trainers" title="Has Trainers" />&nbsp;Has Trainers
                        </div>
                        <div class="marginBottom5" ">
                            <input type="checkbox" ng-model="systemConfiguration.DORSFeatureEnabled" title="DORS Feature Enabled" />&nbsp;DORS Feature Enabled
                        </div>
                        <div class="marginBottom5">
                            <input type="checkbox" ng-model="systemConfiguration.ShowDORSStatus" title="Show DORS Status" />&nbsp;Show DORS Status
                        </div>
                        <div class="marginBottom5">
                            <input type="checkbox" ng-model="systemConfiguration.AllowManualEditingOfClientDORSData" title="Allow Manual Editing Of Client DORS Data" />&nbsp;Manual Editing Of Client DORS Data
                        </div>
                        <div class="marginBottom5">
                            <input type="checkbox" ng-model="systemConfiguration.AdhocReporting" title="Allow Adhoc Reporting" />&nbsp;Allow Adhoc Reporting
                        </div>
                        <div class="marginBottom5">
                            <input type="checkbox" ng-model="systemConfiguration.DataReconciliation" title="Allow Data Reconciliation" />&nbsp;Allow Data Reconciliation
                        </div>
                        <div class="marginBottom5">
                            <input type="checkbox" ng-model="systemConfiguration.ShowTaskList" title="Show Task List" />&nbsp;Show Task List
                        </div>
                        <div class="marginBottom5">
                            <input type="checkbox" ng-model="systemConfiguration.AllowTaskCreation" title="Allow the Creation of Tasks" />&nbsp;Allow the Creation of Tasks
                        </div>
                        <div class="marginBottom5">
                            <input type="checkbox" ng-model="systemConfiguration.MultiDayCoursesAllowed" title="Multi Day Course Allowed" />&nbsp;Multi Day Course Allowed
                        </div>
                        <div class="marginBottom5">
                            <input type="checkbox" ng-model="systemConfiguration.ShowCourseLanguage" title="Show Course Language" />&nbsp;Show Course Language
                        </div>
                        <div class="marginBottom5">
                            <input type="checkbox" ng-model="systemConfiguration.ShowPaymentReconciliation" title="Show Payment Reconciliation" />&nbsp;Show Payment Reconciliation
                        </div>
                        <div class="marginBottom5">
                            <input type="checkbox" ng-model="systemConfiguration.SMSEnabled" title="Allow SMS Functionality" />&nbsp;Allow SMS Functionality
                        </div>
                        <div class="marginBottom5">
                            <input type="checkbox" ng-model="systemConfiguration.LoginEmailSendingEnabled" title="Send Login Detail Email to Clients" />&nbsp;Send Login Detail Email to Clients
                        </div>
                    </div>
                </div>
                <div class="row UnimplementedSystemFlags" title="Unimplemented Features">
                    <div class="col-sm-12 form-line-holder">
                        <div class="marginBottom5">
                            <input type="checkbox" ng-model="systemConfiguration.InvoiceManagement" title="Invoice Management" />&nbsp;Invoice Management
                        </div>
                        <div class="marginBottom5">
                            <input type="checkbox" ng-model="systemConfiguration.TrainerInvoice" title="Allow Trainer Invoice Management" />&nbsp;Allow Trainer Invoice Management
                        </div>
                        <div class="marginBottom5">
                            <input type="checkbox" ng-model="systemConfiguration.ReportScheduling" title="Allow Report Scheduling" />&nbsp;Allow Report Scheduling
                        </div>
                        <div class="marginBottom5">
                            <input type="checkbox" ng-model="systemConfiguration.ClientGrouping" title="Allow Client Groups"  />&nbsp;Allow Client Groups
                        </div>
                        <div class="marginBottom5">
                            <input type="checkbox" ng-model="systemConfiguration.CourseFeedback" title="Allow Course Feedback" />&nbsp;Allow Course Feedback
                        </div>
                    </div>
                </div>
            </div>

            <div class="col-sm-6">
                <div class="row">
                    <div class="col-sm-12 form-line-holder">
                        <div class="col-sm-6 marginBottom10">
                            <!--<label>-->Maximum Individual File Size<!--</label>-->
                        </div>
                        <div class="col-sm-2 marginBottom10">
                            <input type="text" class="form-control" maxlength="10" ng-model="systemConfiguration.MaximumIndividualFileSize" />
                        </div>
                        <div class="col-sm-4 nowrap">
                            <label>Bytes ({{systemConfiguration.MaximumIndividualFileSize | number : 2}} KB, {{systemConfiguration.MaximumIndividualFileSize/1024 | number : 2}} MB)</label>
                        </div>
                    </div>
                    <div class="col-sm-12 form-line-holder">
                        <div class='col-sm-6 marginBottom10'>
                            <!--<label>-->File Upload Allowance<!--</label>-->
                        </div>
                        <div class='col-sm-6 marginBottom10'>
                            <input type="text" class="form-control" ng-model="systemConfiguration.FileUploadAllowance" />
                        </div>
                    </div>
                    <div class="col-sm-12 form-line-holder">
                        <div class="col-sm-6 marginBottom10">
                            <!--<label>-->From Email Name<!--</label>-->
                        </div>
                        <div class="col-sm-6 marginBottom10">
                            <input type="text" class="form-control" ng-model="systemConfiguration.FromEmail" />
                        </div>
                    </div>
                    <div class="col-sm-12 form-line-holder">
                        <div class='col-sm-6 marginBottom10'>
                            <!--<label>-->From Email Address<!--</label>-->
                        </div>
                        <div class='col-sm-6 marginBottom10'>
                            <input type="text" class="form-control" ng-model="systemConfiguration.FromAddress" />
                        </div>
                    </div>
                    <div class="col-sm-12 form-line-holder">
                        <div class="col-sm-6 marginBottom10">
                            <!--<label>-->Archive Client Emails After<!--</label>-->
                        </div>
                        <div class="col-sm-2 marginBottom10">
                            <input type="text" class="form-control" ng-model="systemConfiguration.ArchiveClientEmailsAfterDays" />
                        </div>
                        <div class="col-sm-4 marginBottom10">
                            Days
                        </div>
                    </div>

                    <!-- New additions here -->
                    <div class="col-sm-12 form-line-holder">
                        <div class="col-sm-6 marginBottom10">
                            <!--<label>-->Archive SMS After<!--</label>-->
                        </div>
                        <div class="col-sm-2 marginBottom10">
                            <input type="text" class="form-control" ng-model="systemConfiguration.ArchiveSMSAfterDays" />
                        </div>
                        <div class="col-sm-4 marginBottom10">
                            Days
                        </div>
                    </div>
                    <div class="col-sm-12 form-line-holder">
                        <div class="col-sm-6 marginBottom10">
                            <!--<label>-->Delete SMS After<!--</label>-->
                        </div>
                        <div class="col-sm-2 marginBottom10">
                            <input type="text" class="form-control" ng-model="systemConfiguration.DeleteSMSAfterDays" />
                        </div>
                        <div class="col-sm-4 marginBottom10">
                            Days
                        </div>
                    </div>
                    <div class="col-sm-12 form-line-holder">
                        <div class="col-sm-6 marginBottom10">
                            <!--<label>-->Email Venues After Course Creation<!--</label>-->
                        </div>
                        <div class="col-sm-2 marginBottom10">
                            <input type="text" class="form-control" ng-model="systemConfiguration.HoursToEmailCourseVenuesAfterCreation" />
                        </div>
                        <div class="col-sm-4 marginBottom10">
                            Hours After Creation
                        </div>
                    </div>
                    <div class="col-sm-12 form-line-holder">
                        <div class="col-sm-6 marginBottom10">
                            <!--<label>-->Show Payment Data Going Back<!--</label>-->
                        </div>
                        <div class="col-sm-2 marginBottom10">
                            <input type="text" class="form-control" ng-model="systemConfiguration.YearsOfPaymentData" />
                        </div>
                        <div class="col-sm-4 marginBottom10">
                            Years
                        </div>
                    </div>

                    <div class="col-sm-12 form-line-holder">
                        <div class='col-sm-6 marginBottom10'>
                            Payment Provider
                        </div>
                        <div class='col-sm-6 marginBottom10'>

                            <select ng-model="selectedPaymentProviderId"
                                    ng-change="selectPaymentProvider(selectedPaymentProviderId)"
                                    class='form-control'
                                    ng-options="paymentProvider.Id as paymentProvider.Name for paymentProvider in paymentProviders">
                                <option value="" disabled>Payment Provider</option>
                            </select>
                        </div>
                    </div>

                    <div class="col-sm-12 form-line-holder">
                        <div class="col-sm-6 marginBottom10"></div>
                        <div class="col-sm-6 marginBottom10 noLeftPadding noRightPadding">
                            <div class="col-sm-12 noLeftPadding noRightPadding marginBottom10">
                                <div class="col-sm-5 form-line-holder">Provider Code</div>
                                <div class="col-sm-7">
                                    <input type="text" class="form-control" ng-model="organisationPaymentProviders[0].ProviderCode" />
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="col-sm-12 form-line-holder">
                        <div class="col-sm-6 marginBottom10"></div>
                        <div class="col-sm-6 marginBottom10 noLeftPadding noRightPadding">
                            <div class="col-sm-12 noLeftPadding noRightPadding marginBottom10">
                                <div class="col-sm-5 form-line-holder">Short Code</div>
                                <div class="col-sm-7 marginBottom10">
                                    <input type="text" class="form-control" ng-model="organisationPaymentProviders[0].ShortCode" />
                                </div>
                            </div>
                            <div class="col-sm-12 marginBottom5">
                                <div class="col-sm-12 noLeftPadding">
                                    <input type="checkbox" ng-model="systemConfiguration.ShowNetcallFeatures" title="Show Netcall Features" />&nbsp;Show Netcall Features
                                </div>
                            </div>

                            <div class="col-sm-12 marginBottom5">
                                <div class="col-sm-12 noLeftPadding">
                                    <input type="checkbox" ng-model="systemConfiguration.ShowPaymentCardSupplier" title="Show Payment Card Supplier" />&nbsp;Show Payment Card Supplier
                                </div>
                            </div>

                        </div>
                    </div>
                </div>

            </div>
        </div>


        <div class="row">
            <div class="col-sm-12 form-line-holder">
                <div class="col-sm-3"></div>
                <div class="col-sm-3">
                    <div class="control-label">
                        <input type="checkbox" ng-model="systemConfiguration.HasSubDomain" title="Has Sub Domain" />&nbsp;Has Sub Domain
                    </div>
                </div>
                <div class="col-sm-3">
                    <div class='col-sm-12' ng-disabled="systemConfiguration.HasSubDomain == false">
                        Sub Domain Name
                    </div>
                </div>
                <div class="col-sm-3 noRightPadding marginBottom10 paddingLeft30">
                    <input type="text" class="form-control" ng-disabled="systemConfiguration.HasSubDomain == false" ng-model="systemConfiguration.SubDomainName" />
                </div>
            </div>
        </div>

        <div class="row">
            <div class="col-sm-12 form-line-holder">
                <div class="col-sm-3"></div>
                <div class="col-sm-3">
                    <div class="control-label">
                        <input type="checkbox" ng-model="systemConfiguration.HasFullDomain" title="Has Full Domain"/>&nbsp;Has Full Domain
                    </div>
                </div>
                <div class="col-sm-3">
                    <div class='col-sm-12' ng-disabled="systemConfiguration.HasFullDomain == false">
                        Full Domain Name
                    </div>
                </div>
                <div class="col-sm-3 noRightPadding marginBottom10 paddingLeft30">
                    <input type="text" class="form-control" ng-disabled="systemConfiguration.HasFullDomain == false" ng-model="systemConfiguration.FullDomainName" />
                </div>
            </div>
        </div>


        <div class="col-sm-12 form-line-holder">
            <div class="col-sm-3">
                <button class="btn btn-default btn-sm"
                        ng-click="createNewOrganisation()"
                        title="Create New Organisation">
                    New Organisation
                </button>
            </div>
            <div class="col-sm-3"></div>
            <div class="col-sm-3"></div>
            <div class="col-sm-3 marginBottom10 rightalign noRightPadding">

                <button class="btn btn-default btn-sm"
                        ng-click="saveSettings()"
                        title="Save Settings">
                    Save Settings
                </button>
            </div>
        </div>




        <div class="row col-sm-12 noRightPadding" ng-if="!successMessage === false">
            <div class="col-sm-12 success-message noRightPadding rightalign">{{ successMessage }}</div>
        </div>
        
        <div class="row col-sm-12 noRightPadding" ng-if="!validationMessage === false">
            <div class="col-sm-12 validation-message noRightPadding rightalign">{{ validationMessage }}</div>
        </div>

    </form>
</div>
<script type="text/javascript">
    $(document).ready(function () {
        $('.UnimplementedSystemFlags input').each(function () {
            $(this).attr('title', $(this).attr('title') + ' .... This Feature has not been Implemented Yet');
        });
    });
</script>
