<div id="DORSControlSettings">

    <system-feature-information title="DORS control"
                                controller="DORSControlSettingsCtrl"
                                open-in-modal="true"
                                view-path="/app/components/dors/editDORSControlSettings"
                                page-name="DORS Control"></system-feature-information>

    <div class="Title row">
        <h2></h2>
    </div>
    <form class="form-horizontal row" role="form">

        <div class='col-sm-12 form-group'>
            <div class='form-line-holder'>
                <div class='col-sm-1'>
                    <input type="checkbox" ng-model="dorsControl.DORSEnabled" ng-change="save()" />
                </div>
                <div class='col-sm-3 blueitalic'>DORS Enabled</div>
                <div class="col-sm-8"></div>
            </div>
        </div>
        <div class='col-sm-12 form-group'>
            <div class='form-line-holder'>
                <div class='col-sm-6'>
                    DORS Access Password Expiry
                </div>
                <div class="col-sm-3 pull-left">
                    <input type="text" class="form-control" maxlength="5" ng-model="dorsControl.PasswordExpiryDays" />
                </div>
                <div class='col-sm-1 pull-text-left'>
                    Days
                </div>
                <div class="col-sm-1"></div>
                <div class="col-sm-1 pull-right">
                    <button class="btn btn-default"
                            ng-click="saveDORSControl()"
                            title="Save DORS Control">
                        Save
                    </button>
                </div>
            </div>
        </div>

        <div class='col-sm-12 form-group'>
            <div class='form-line-holder'>
                <div class='col-sm-6'>
                    Maximum Posts Per Session
                </div>
                <div class="col-sm-3">
                    <input type="text" class="form-control" maxlength="10" ng-model="dorsControl.MaximumPostsPerSession" />
                </div>
                <div class="col-sm-3"></div>
            </div>
        </div>

        <div class="row">
            <div class="col-sm-12" ng-if="dorsuccessMessage != ''">
                <h3>{{ dorssuccessMessage }}</h3>
            </div>
        </div>
        <div class="row">
            <div class="col-sm-12" ng-if="dorsvalidationMessage != ''">
                <h3>{{ dorsvalidationMessage }}</h3>
            </div>
        </div>

        <hr />

        <!--Organisation-->
        <div ng-show="$parent.isAdmin">
            <div class='col-sm-12 form-group'>
                <div class='col-sm-3'>
                    <label>Organisation:</label>
                </div>
                <div class='col-sm-9'>
                    <!--ng-change="$parent.getUsers(organisationId)"-->
                    <select ng-model="organisationId"
                            ng-change="getSystemConfigurationByOrganisation(organisationId)"
                            class='form-control'
                            ng-options="organisation.Id as organisation.Name for organisation in organisations"></select>
                </div>
            </div>
        </div>

        <div class='col-sm-12 form-group'>
            <div class='form-line-holder'>
                <div class="col-sm-3"></div>
                <div class='col-sm-1'>
                    <input type="checkbox" ng-model="systemConfiguration.DORSFeatureEnabled" />
                </div>
                <div class='col-sm-5 blueitalic'>DORS Feature Enabled</div>
                <div class="col-sm-3"></div>
            </div>
        </div>

        <div class='col-sm-12 form-group'>
            <div class='form-line-holder'>
                <div class="col-sm-3"></div>
                <div class='col-sm-1'>
                    <input type="checkbox" ng-model="systemConfiguration.ShowDORSStatus" />
                </div>
                <div class='col-sm-5 blueitalic'>Show DORS Status</div>
                <div class="col-sm-3"></div>
            </div>
        </div>

        <div class='col-sm-12 form-group'>
            <div class='form-line-holder'>
                <div class="col-sm-3">
                    <button class="btn btn-default btn-sm pull-left"
                            ng-click="saveSystemConfig()"
                            title="Save Settings">
                        Save
                    </button>
                </div>
                <div class="col-sm-9"></div>
                </div>
        </div>

                <div class="row">
                    <div class="col-sm-12" ng-if="successMessage != ''">
                        <h3>{{ successMessage }}</h3>
                    </div>
                </div>
                <div class="row">
                    <div class="col-sm-12" ng-if="validationMessage != ''">
                        <h3>{{ validationMessage }}</h3>
                    </div>
                </div>
    </form>
</div> 